<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Model Evaluation</title>
     <link rel="stylesheet" href="../static/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<style>
        body {
    height: 100vh;
    background-color: #171717;
}

    h2 {
    font-family: 'Courier New', monospace;
    font-size: 50px;
    font-weight: bold;
    text-align: center;
    color: grey;
}
    #confusionMatrices {
  display: grid;
<!--  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));-->
  grid-gap: 20px;
  justify-content: space-around;
  align-items: center;
}

.confusion-matrix {
  text-align: center;
}
button{
margin: 20px;

}
    .sensitivity{
    color: white;
    font-size: 20px;
    }
    .specificity{
    color: white;
    font-size: 20px;
    }
</style>
</head>

<body>
<!--background-->
<div class="lines">
  <div class="line"></div>
  <div class="line"></div>
  <div class="line"></div>
</div>

    <h2>Evaluating Your Machine Learning Models</h2>
<form id="confusionMatrixForm" action="/metrics" method="post">
    <input type="hidden" name="action" value="confusion_matrix">
    <button type="submit" class="btn btn-info" onclick="toggleConfusionMatrices()">Show Confusion Matrix</button>
</form>

<div id="confusionMatrices"  >
    {% for matrix in confusion_matrix_data %}
        <div class="confusion-matrix">
            <img src="data:image/png;base64,{{ matrix}}" alt="Confusion Matrix">
        </div>
    {% endfor %}
</div>

<form id="SensitivityForm" action="/metrics" method="post">
    <input type="hidden" name="action" value="Sensitivity">
    <button type="submit" class="btn btn-success" onclick="toggleSensitivity()">Show Sensitivity</button>
</form>

<div id="sensitivity">
    <div class="sensitivity" style="color: Blue;">
            Logistic Regression: {{ sensitivity_data[0] | default("Not Available") }}

    </div> <div class="sensitivity" style="color: Blue;">
            Support Vector Machine: {{ sensitivity_data[1] | default("Not Available") }}

    </div> <div class="sensitivity" style="color: magenta;">
            Decision Tree: {{ sensitivity_data[2] | default("Not Available") }}

    </div> <div class="sensitivity" style="color: orange;">
            Random Forest: {{ sensitivity_data[3] | default("Not Available") }}

    </div> <div class="sensitivity" style="color: green;">
            K Nearest Neighbor: {{ sensitivity_data[4] | default("Not Available") }}

    </div>
</div>
<form id="SpecificityForm" action="/metrics" method="post">
    <input type="hidden" name="action" value="Specificity">
    <button type="submit" class="btn btn-warning" onclick="toggleSensitivity()">Show Sensitivity</button>
</form>

<div id="specificity">
    <div class="specificity" style="color: yellow;">
            Logistic Regression: {{ specificity_data[0] | default("Not Available") }}

    </div> <div class="specificity" style="color: coral;">
            Support Vector Machine: {{ specificity_data[1] | default("Not Available") }}

    </div> <div class="specificity" style="color: cyan;">
            Decision Tree: {{ specificity_data[2] | default("Not Available") }}

    </div> <div class="specificity" style="color: purple;">
            Random Forest: {{ specificity_data[3] | default("Not Available") }}

    </div> <div class="specificity" style="color: grey;">
            K Nearest Neighbor: {{ specificity_data[4] | default("Not Available") }}

    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-GLhlTQ8iK9tTQofERHk+ASWCr3fSI6CY9F6sAgFEJ/cPiitF81KcJf+1d47jjxwG" crossorigin="anonymous"></script>
<script>
   function toggleConfusionMatrices() {
        var matricesDiv = document.getElementById('confusionMatrices');
        matricesDiv.style.display = (matricesDiv.style.display === 'none' || matricesDiv.style.display === '') ? 'block' : 'none';
    }

    function toggleSensitivity() {
        var sensitivityDiv = document.getElementById('sensitivity');
        sensitivityDiv.style.display = (sensitivityDiv.style.display === 'none' || sensitivityDiv.style.display === '') ? 'block' : 'none';
    }

    function toggleSpecificity() {
        var specificityDiv = document.getElementById('specificity');
        specificityDiv.style.display = (specificityDiv.style.display === 'none' || specificityDiv.style.display === '') ? 'block' : 'none';
    }
</script>

</body>
</html>